(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),i=n(16),r=n.n(i),s=(n(21),n(5)),j=n(4),o=n(7),u=n(2),l=n.n(u),d=(n(40),n(41),n(0)),h=function(){var e=Object(c.useState)({meno:"",prezvisko:"",titul:"",ulica:"",mesto:"",psc:"",telefon:"",email:"",stav:"",vzdelanie:"",vek:"",profesia:"",poznamka:""}),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({stav:[],profesie:[],vzdelanie:[],zaujemci:[],profesie_zaujemci:[]}),r=Object(o.a)(i,2),u=r[0],h=r[1],p=function(e){e.preventDefault(),a(Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},e.currentTarget.name,e.currentTarget.value)))},b=function(e,t,n){l.a.post("/api/add",{ID_zaujemca:e,ID_profesie:t,poznamka:n}).then((function(e){alert("Zaujemca bol uspesne pridany"),O()}),(function(e){alert("Nastal problem pri pridavani zaujemcu")}))},O=function(){l.a.all([l.a.get("/api/stav"),l.a.get("/api/profesie"),l.a.get("/api/vzdelanie"),l.a.get("/api/zaujemci"),l.a.get("/api/profzam")]).then(l.a.spread((function(e,t,n,c,a){200===e.status&&h(Object(j.a)(Object(j.a)({},u),{},{stav:e.data.recordset,profesie:t.data.recordset,vzdelanie:n.data.recordset,zaujemci:c.data.recordset,profesie_zaujemci:a.data.recordset}))}))).catch((function(e){return alert(e)}))};return Object(c.useEffect)((function(){O()}),[]),u.stav!==[]&&u.profesie,u.vzdelanie!==[]?Object(d.jsxs)("div",{className:"app__container",children:[Object(d.jsx)("div",{className:"app__header",children:Object(d.jsx)("h1",{children:"NAJDI SI PR\xc1CU !"})}),Object(d.jsxs)("div",{className:"app__body",children:[Object(d.jsxs)("div",{className:"body__form",children:[Object(d.jsx)("h1",{children:"Formular Zujemcu"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(n),l.a.post("/api/create",n).then((function(e){alert("Zaujemca bol uspesne pridany"),b(e.data.recordsets[0][0].ID_zaujemca,n.profesia,n.poznamka)}),(function(e){console.log(e)}))},children:[Object(d.jsx)("h2",{children:"Meno"}),Object(d.jsx)("input",{type:"text",name:"meno",required:!0,onChange:function(e){return p(e)}}),Object(d.jsx)("h2",{children:"Priezvisko"}),Object(d.jsx)("input",{type:"text",name:"prezvisko",required:!0,onChange:function(e){return p(e)}}),Object(d.jsx)("h2",{children:"Titul"}),Object(d.jsx)("input",{type:"text",name:"titul",onChange:function(e){return p(e)}}),Object(d.jsx)("h2",{children:"Ulica"}),Object(d.jsx)("input",{type:"text",name:"ulica",required:!0,onChange:function(e){return p(e)}}),Object(d.jsx)("h2",{children:"Mesto"}),Object(d.jsx)("input",{type:"text",name:"mesto",required:!0,onChange:function(e){return p(e)}}),Object(d.jsx)("h2",{children:"PSC"}),Object(d.jsx)("input",{type:"text",name:"psc",required:!0,onChange:function(e){return p(e)}}),Object(d.jsx)("h2",{children:"Telefon"}),Object(d.jsx)("input",{type:"tel",name:"telefon",required:!0,onChange:function(e){return p(e)}}),Object(d.jsx)("h2",{children:"Email"}),Object(d.jsx)("input",{type:"email",name:"email",required:!0,onChange:function(e){return p(e)}}),Object(d.jsx)("h2",{children:"Stav"}),Object(d.jsx)("select",{name:"stav",required:!0,onChange:function(e){return p(e)},defaultValue:"Vyberte",children:u.stav.map((function(e){return Object(d.jsx)("option",{value:e.ID_stav,children:e.stav},e.ID_stav)}))}),Object(d.jsx)("h2",{children:"Vzdelanie"}),Object(d.jsx)("select",{name:"vzdelanie",required:!0,defaultValue:"Vyberte",onChange:function(e){return p(e)},children:u.vzdelanie.map((function(e){return Object(d.jsx)("option",{value:e.ID_vzdelanie,children:e.dosiahnute_vzdelanie},e.ID_vzdelanie)}))}),Object(d.jsx)("h2",{children:"Vek"}),Object(d.jsx)("input",{type:"number",name:"vek",required:!0,onChange:function(e){return p(e)}}),Object(d.jsx)("h2",{children:"Profesia"}),Object(d.jsx)("select",{name:"profesia",required:!0,defaultValue:"Vyberte",onChange:function(e){return p(e)},children:u.profesie.map((function(e){return Object(d.jsx)("option",{value:e.ID_profesie,children:e.nazov_profesie},e.ID_profesie)}))}),Object(d.jsx)("h2",{children:"Poznamka"}),Object(d.jsx)("textarea",{name:"poznamka",rows:"10",onChange:function(e){return p(e)}}),Object(d.jsx)("button",{type:"submit",children:"ZAREGISTRUJ"})]})]}),Object(d.jsxs)("div",{className:"body__table",children:[Object(d.jsx)("h1",{children:"TABULKA"}),u.profesie_zaujemci!==[]?Object(d.jsxs)("table",{children:[Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Titul"}),Object(d.jsx)("th",{children:"Meno"}),Object(d.jsx)("th",{children:"Priezvisko"}),Object(d.jsx)("th",{children:"Stav"}),Object(d.jsx)("th",{children:"Nazov profesie"}),Object(d.jsx)("th",{children:"poznamka"})]}),u.profesie_zaujemci.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:e.titul}),Object(d.jsx)("th",{children:e.meno}),Object(d.jsx)("th",{children:e.priezvisko}),Object(d.jsx)("th",{children:e.stav}),Object(d.jsx)("th",{children:e.nazov_profesie}),Object(d.jsx)("th",{children:e.poznamka})]})}))]}):Object(d.jsx)("div",{children:"NEPODARILO SA SPOJIT S DBBBBB"})]})]}),Object(d.jsx)("div",{className:"app__footer",children:Object(d.jsx)("h1",{children:"\xa9Pekny den\xa9"})})]}):Object(d.jsx)("div",{children:"NEPODARILO SA PRIPOJIT K DB"})};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.f2737de8.chunk.js.map