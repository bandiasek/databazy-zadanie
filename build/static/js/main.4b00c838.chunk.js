(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),i=n(16),r=n.n(i),s=(n(21),n(5)),j=n(4),o=n(7),l=n(2),d=n.n(l),u=n.p+"static/media/NavIcon.5b0f8419.svg",h=(n(40),n(41),n(0)),p=function(){var e=Object(c.useState)({meno:"",prezvisko:"",titul:"",ulica:"",mesto:"",psc:"",telefon:"",email:"",stav:"",vzdelanie:"",vek:"",profesia:"",poznamka:""}),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({stav:[],profesie:[],vzdelanie:[],zaujemci:[],profesie_zaujemci:[]}),r=Object(o.a)(i,2),l=r[0],p=r[1],b=function(e){e.preventDefault(),a(Object(j.a)(Object(j.a)({},n),{},Object(s.a)({},e.currentTarget.name,e.currentTarget.value)))},O=function(e,t,n){d.a.post("/api/add",{ID_zaujemca:e,ID_profesie:t,poznamka:n}).then((function(e){alert("Zaujemca bol uspesne pridany"),m()}),(function(e){alert("Nastal problem pri pridavani zaujemcu")}))},m=function(){d.a.all([d.a.get("/api/stav"),d.a.get("/api/profesie"),d.a.get("/api/vzdelanie"),d.a.get("/api/zaujemci"),d.a.get("/api/profzam")]).then(d.a.spread((function(e,t,n,c,a){200===e.status&&p(Object(j.a)(Object(j.a)({},l),{},{stav:e.data.recordset,profesie:t.data.recordset,vzdelanie:n.data.recordset,zaujemci:c.data.recordset,profesie_zaujemci:a.data.recordset}))}))).catch((function(e){return alert(e)}))};return Object(c.useEffect)((function(){m()}),[]),l.stav!==[]&&l.profesie,l.vzdelanie!==[]?Object(h.jsxs)("div",{className:"app__container",children:[Object(h.jsxs)("div",{className:"app__header",children:[Object(h.jsx)("img",{src:u,alt:"Najdi si pracu"}),Object(h.jsxs)("h1",{children:["N\xc1JDI SI ",Object(h.jsx)("span",{className:"header__span",children:"PR\xc1CU"})]})]}),Object(h.jsxs)("div",{className:"app__body",children:[Object(h.jsxs)("div",{className:"body__form",children:[Object(h.jsx)("h1",{children:"Formul\xe1r z\xe1ujemcu"}),Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(n),d.a.post("/api/create",n).then((function(e){alert("Zaujemca bol uspesne pridany"),O(e.data.recordsets[0][0].ID_zaujemca,n.profesia,n.poznamka)}),(function(e){console.log(e)}))},children:[Object(h.jsxs)("div",{className:"form__container",children:[Object(h.jsxs)("div",{className:"form__containerSection",children:[Object(h.jsx)("h2",{children:"Meno"}),Object(h.jsx)("input",{type:"text",name:"meno",required:!0,onChange:function(e){return b(e)}}),Object(h.jsx)("h2",{children:"Priezvisko"}),Object(h.jsx)("input",{type:"text",name:"prezvisko",required:!0,onChange:function(e){return b(e)}}),Object(h.jsxs)("h2",{children:["Titul ",Object(h.jsx)("span",{className:"form__span",children:"(Nepovinn\xe9)"})]}),Object(h.jsx)("input",{type:"text",name:"titul",onChange:function(e){return b(e)}}),Object(h.jsx)("h2",{children:"Vek"}),Object(h.jsx)("input",{type:"number",name:"vek",min:"1",max:"99",required:!0,onChange:function(e){return b(e)}}),Object(h.jsx)("h2",{children:"Telef\xf3n"}),Object(h.jsx)("input",{type:"tel",name:"telefon",required:!0,onChange:function(e){return b(e)}})]}),Object(h.jsxs)("div",{className:"form__containerSection",children:[Object(h.jsx)("h2",{children:"Ulica"}),Object(h.jsx)("input",{type:"text",name:"ulica",required:!0,onChange:function(e){return b(e)}}),Object(h.jsx)("h2",{children:"Mesto"}),Object(h.jsx)("input",{type:"text",name:"mesto",required:!0,onChange:function(e){return b(e)}}),Object(h.jsx)("h2",{children:"PS\u010c"}),Object(h.jsx)("input",{type:"text",name:"psc",required:!0,onChange:function(e){return b(e)}}),Object(h.jsx)("h2",{children:"Email"}),Object(h.jsx)("input",{type:"email",name:"email",required:!0,onChange:function(e){return b(e)}}),Object(h.jsx)("h2",{children:"Stav"}),Object(h.jsxs)("select",{name:"stav",required:!0,value:n.stav,onChange:function(e){return b(e)},children:[Object(h.jsx)("option",{disabled:!0,selected:!0,value:!0,children:" - "}),l.stav.map((function(e){return Object(h.jsx)("option",{value:e.ID_stav,children:e.stav},e.ID_stav)}))]})]})]}),Object(h.jsx)("h2",{children:"Vzdelanie"}),Object(h.jsxs)("select",{name:"vzdelanie",required:!0,value:n.vzdelanie,onChange:function(e){return b(e)},children:[Object(h.jsx)("option",{disabled:!0,selected:!0,value:!0,children:" - "}),l.vzdelanie.map((function(e){return Object(h.jsx)("option",{value:e.ID_vzdelanie,children:e.dosiahnute_vzdelanie},e.ID_vzdelanie)}))]}),Object(h.jsx)("h2",{children:"Profesia"}),Object(h.jsxs)("select",{name:"profesia",required:!0,value:n.profesia,onChange:function(e){return b(e)},children:[Object(h.jsx)("option",{disabled:!0,selected:!0,value:!0,children:" - "}),l.profesie.map((function(e){return Object(h.jsx)("option",{value:e.ID_profesie,children:e.nazov_profesie},e.ID_profesie)}))]}),Object(h.jsxs)("h2",{children:["Pozn\xe1mka ",Object(h.jsx)("span",{className:"form__span",children:"(Nepovinn\xe9)"})]}),Object(h.jsx)("textarea",{name:"poznamka",rows:"10",onChange:function(e){return b(e)}}),Object(h.jsx)("button",{type:"submit",children:"ZAREGISTRUJ"})]})]}),Object(h.jsxs)("div",{className:"body__table",children:[Object(h.jsx)("h1",{children:"Z\xe1ujemcovia"}),l.profesie_zaujemci!==[]?Object(h.jsxs)("table",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Titul"}),Object(h.jsx)("th",{children:"Meno"}),Object(h.jsx)("th",{children:"Priezvisko"}),Object(h.jsx)("th",{children:"Stav"}),Object(h.jsx)("th",{children:"Nazov profesie"}),Object(h.jsx)("th",{children:"poznamka"})]}),l.profesie_zaujemci.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:e.titul}),Object(h.jsx)("th",{children:e.meno}),Object(h.jsx)("th",{children:e.priezvisko}),Object(h.jsx)("th",{children:e.stav}),Object(h.jsx)("th",{children:e.nazov_profesie}),Object(h.jsx)("th",{children:e.poznamka})]})}))]}):Object(h.jsx)("div",{children:"NEPODARILO SA SPOJIT S DBBBBB"})]})]}),Object(h.jsx)("div",{className:"app__footer",children:Object(h.jsx)("h1",{children:"\xa9 PEKN\xdd DE\u0147 \xa9"})})]}):Object(h.jsx)("div",{children:"NEPODARILO SA PRIPOJIT K DB"})};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.4b00c838.chunk.js.map